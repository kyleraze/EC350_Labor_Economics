"0","p_load(readxl)"
"0",""
"0","data <- read_excel(""us_income_inequality.xlsx"") %>% "
"0","  pivot_longer(!measure, names_to = ""year"", values_to = ""income"") %>% "
"0","  mutate(year = as.numeric(year))"
"0",""
"0","data75 <- data %>% "
"0","  filter(year == 1975) %>% "
"0","  mutate(income75 = income) %>% "
"0","  select(measure, income75)"
"0",""
"0","data <- data %>%"
"0","  left_join(data75, by = ""measure"") %>% "
"0","  mutate(rel_income = (income / income75) * 100)"
"0",""
"0","data %>% "
"0","  filter(measure %in% c(""20th percentile"", ""50th percentile"", ""80th percentile"", ""95th percentile"")) %>%  "
"0","  ggplot(aes(x = year, y = income, group = measure, color = measure)) +"
"0","  geom_line(size = 1) +"
"0","  annotate(""text"", x = 2015, y = 205000, label = ""95th percentile"", color = red_pink, size = 4, family = ""Fira Sans"", alpha = 1) +"
"0","  annotate(""text"", x = 2015, y = 110000, label = ""80th percentile"", color = green, size = 4, family = ""Fira Sans"", alpha = 1) +"
"0","  annotate(""text"", x = 2015, y = 50000, label = ""50th percentile"", color = purple, size = 4, family = ""Fira Sans"", alpha = 1) +"
"0","  annotate(""text"", x = 2015, y = 15000, label = ""20th percentile"", color = ""darkgrey"", size = 4, family = ""Fira Sans"", alpha = 1) +"
"0",""
"0","  scale_y_continuous(breaks = scales::pretty_breaks(), labels = scales::dollar) +"
"0","  scale_x_continuous(breaks = scales::pretty_breaks()) +"
"0","  scale_color_manual(values = c(""darkgrey"", purple, green, red_pink)) +"
"0","  guides(color = F) +"
"0","  labs(y = ""Household income (2019 dollars)"") +"
"0","  theme_simple +"
"0","  theme(axis.title.x = element_blank())"
